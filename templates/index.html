<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#0a0a0f" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#f8f9fc" media="(prefers-color-scheme: light)">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Live PÅ™eklad</title>
  <link rel="icon" type="image/svg+xml" href="/static/assets/favicon.svg">
  <link rel="manifest" href="/static/manifest.json">
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <!-- Header -->
  <header class="header" id="header">
    <button class="header__btn" id="themeToggle" aria-label="Toggle theme">
      <span class="header__icon" id="themeIcon">&#9790;</span>
    </button>

    <div class="header__status" id="statusIndicator" role="status" aria-live="polite">
      <span class="status__dot" id="statusDot"></span>
      <span class="status__text" id="statusText"></span>
    </div>

    <button class="header__btn" id="settingsToggle" aria-label="Settings">
      <span class="header__icon">&#9881;</span>
    </button>
  </header>

  <!-- Subtitles container -->
  <main class="subtitles" id="subtitlesContainer">
    <div class="subtitles__empty" id="emptyState">
      <div class="empty__icon">&#127908;</div>
      <p class="empty__text" data-i18n="waitingForTranslation"></p>
    </div>
  </main>

  <!-- Language selector FAB -->
  <button class="fab" id="langFab" aria-label="Change language">
    <span class="fab__icon">&#127760;</span>
    <span class="fab__label" id="fabLabel">CZ</span>
  </button>

  <!-- Language modal (options built dynamically in app.js) -->
  <div class="modal-overlay" id="langModal" aria-modal="true">
    <div class="modal" role="dialog" aria-labelledby="langModalTitle">
      <h2 class="modal__title" id="langModalTitle" data-i18n="selectLanguage"></h2>
      <div class="modal__options" id="langOptions">
        <!-- Populated by app.js from LANGUAGES config -->
      </div>
      <button class="modal__close" id="langModalClose" data-i18n="close"></button>
    </div>
  </div>

  <!-- Settings drawer -->
  <div class="modal-overlay" id="settingsModal" aria-modal="true">
    <div class="modal modal--settings" role="dialog" aria-labelledby="settingsModalTitle">
      <h2 class="modal__title" id="settingsModalTitle" data-i18n="settings"></h2>

      <div class="setting">
        <label class="setting__label" for="fontSizeSlider" data-i18n="fontSize"></label>
        <input type="range" class="setting__slider" id="fontSizeSlider" min="16" max="64" value="28">
        <span class="setting__value" id="fontSizeValue">28px</span>
      </div>

      <div class="setting">
        <label class="setting__label">
          <input type="checkbox" class="setting__checkbox" id="showTimestamps">
          <span data-i18n="showTimestamps"></span>
        </label>
      </div>

      <div class="setting">
        <label class="setting__label" for="maxSubtitles" data-i18n="subtitleCount"></label>
        <select class="setting__select" id="maxSubtitles">
          <option value="5">5</option>
          <option value="10" selected>10</option>
          <option value="20">20</option>
        </select>
      </div>

      <div class="setting">
        <a href="#qr" class="setting__link" id="showQrLink" data-i18n="showQrCode"></a>
      </div>

      <button class="modal__close" id="settingsModalClose" data-i18n="close"></button>
    </div>
  </div>

  <!-- QR page overlay -->
  <div class="qr-overlay" id="qrOverlay">
    <div class="qr-page">
      <h1 class="qr-page__title" data-i18n="qrPageTitle"></h1>
      <div class="qr-page__code">
        <img src="/static/assets/qr.png" alt="QR Code" id="qrImage"
             onerror="this.src='/static/assets/qr-placeholder.svg'">
      </div>
      <p class="qr-page__instruction" data-i18n="qrInstruction"></p>
      <p class="qr-page__url" id="pageUrl"></p>
      <button class="qr-page__close" id="qrClose" data-i18n="close"></button>
    </div>
  </div>

  <script>
    // Show the current page URL in QR section
    document.getElementById('pageUrl').textContent = window.location.origin;
  </script>
  <script src="/static/app.js"></script>
</body>
</html>
